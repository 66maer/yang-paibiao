"""
JX3 Bot - 剑网3 信息查询插件

功能模块:
- 管理: 绑定区服、查看绑定、解除绑定
- 日常: 日常活动、开服状态、维护公告、新闻、技改
- 角色: 角色详情、属性、精耐、名片、奇穴、阵眼、战绩
- 奇遇: 奇遇记录、奇遇统计、未出奇遇、蹲宠、赤兔
- 交易: 金价、物价、拍卖记录、挂件、装饰
- 阵营: 沙盘、关隘、诛恶、招募、师父、徒弟
- 排行: 名士、江湖、兵甲、名师、阵营、薪火、家园
- 其他: 副本进度、烟花、科举、骚话
"""

from nonebot import get_plugin_config
from nonebot.plugin import PluginMetadata

from .config import Config

__plugin_meta__ = PluginMetadata(
    name="JX3 Bot",
    description="剑网3 游戏信息查询插件 - 基于 JX3API",
    usage="""
【管理命令】
绑定区服 <服务器名>  绑定群默认服务器
查看绑定            查看当前群绑定的服务器
解除绑定            解除群服务器绑定
区服列表            显示所有可用服务器
jx3帮助            显示帮助信息

【日常活动】
日常 [区服]         查看今日活动
开服 [区服]         查看开服状态
维护               查看维护公告
新闻               查看游戏新闻
技改               查看技能调整
百战/楚天社/云从社  查看NPC刷新

【角色信息】
角色详情 [区服] <角色名>  角色基本信息
属性 [区服] <角色名>      角色装备属性
精耐 [区服] <角色名>      精简耐力属性
名片 [区服] <角色名>      角色名片
奇穴 [区服] <角色名>      奇穴配置
阵眼 <门派>              门派阵眼效果
名剑排行 [区服] <角色名>  名剑大会排名
战绩 [区服] <角色名>      名剑战绩

【奇遇宠物】
奇遇记录 [区服] <角色名>  角色奇遇记录
奇遇统计 [区服] <奇遇名>  奇遇触发统计
蹲宠 [区服]              宠物刷新信息
赤兔 [区服]              绝品刷新信息
马场                     全服马场播报

【交易物品】
金价 [区服]              金币价格
物价 <物品名>            交易行物价
拍卖记录 <物品名>        拍卖行记录
挂件 <名称>              装扮挂件
装饰 <名称>              装扮装饰
器物谱 <名称>            器物谱信息

【阵营帮会】
沙盘 [区服]              阵营沙盘
关隘                     据点关隘
诛恶 [区服]              诛恶事件
招募 [区服] [关键词]     团队招募
师父 [区服]              师父招收
徒弟 [区服]              徒弟招收

【排行榜】
名士排行 [区服]          名士五十强
江湖排行 [区服]          老江湖排行
兵甲排行 [区服]          兵甲藏家排行
家园排行 [区服]          庐园广记排行

【其他】
副本 [区服] <角色名>     副本进度
烟花记录 [区服] <角色名> 烟花收发记录
科举 <题目>              科举答案
骚话                     随机骚话
舔狗日记                 舔狗日记
月历                     活动月历
""",
    type="application",
    homepage="https://github.com/your-repo/jx3_bot",
    config=Config,
    supported_adapters={"~onebot.v11"},
)

# 获取插件配置
config = get_plugin_config(Config)

# 导入所有命令模块
from .commands import admin, daily, role, luck, trade, faction, rank, misc

# 导入数据管理模块
from .data.guild_config import guild_config_manager

# 导入 API 客户端
from .api.client import api_client

